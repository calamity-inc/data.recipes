function takeInput(fn)
	document.getElementById("input"):addEventListener("input", function()
		js_invoke("get_input")
		fn(io.contents("input"))
	end)

	js_invoke("get_input")
	local value = io.contents("input")
	if value ~= "" then
		fn(value)
	end
end

function produceOutput(str)
	document.getElementById("output").value = str
end
